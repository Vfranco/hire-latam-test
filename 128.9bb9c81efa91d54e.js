"use strict";(self.webpackChunkhire_latam_test=self.webpackChunkhire_latam_test||[]).push([[128],{1128:(bn,rt,c)=>{c.r(rt),c.d(rt,{ListCitiesModule:()=>An});var C=c(6814);class fe{constructor(){this.selectedCities=[],this.recordsPerPage=10}}var ot=function(e){return e.US="US",e}(ot||{}),r=c(9291),P=c(3911);c(7715),c(9315),c(7398);let st=(()=>{class e{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#t=this.\u0275fac=function(i){return new(i||e)(r.Y36(r.Qsj),r.Y36(r.SBq))};static#e=this.\u0275dir=r.lG2({type:e})}return e})(),m=(()=>{class e extends st{static#t=this.\u0275fac=function(){let t;return function(o){return(t||(t=r.n5z(e)))(o||e)}}();static#e=this.\u0275dir=r.lG2({type:e,features:[r.qOj]})}return e})();const h=new r.OlP("NgValueAccessor"),v=new r.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>S}),S="always";let $t=(()=>{class e{static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275mod=r.oAB({type:e});static#n=this.\u0275inj=r.cJS({})}return e})();const Xe={provide:h,useExisting:(0,r.Gpc)(()=>tt),multi:!0};function Xt(e,n){return null==e?`${n}`:(n&&"object"==typeof n&&(n="Object"),`${e}: ${n}`.slice(0,50))}let tt=(()=>{class e extends m{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const o=Xt(this._getOptionId(t),t);this.setProperty("value",o)}registerOnChange(t){this.onChange=i=>{this.value=this._getOptionValue(i),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),t))return i;return null}_getOptionValue(t){const i=function tn(e){return e.split(":")[0]}(t);return this._optionMap.has(i)?this._optionMap.get(i):t}static#t=this.\u0275fac=function(){let t;return function(o){return(t||(t=r.n5z(e)))(o||e)}}();static#e=this.\u0275dir=r.lG2({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,o){1&i&&r.NdJ("change",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[r._Bn([Xe]),r.qOj]})}return e})(),te=(()=>{class e{constructor(t,i,o){this._element=t,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(Xt(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#t=this.\u0275fac=function(i){return new(i||e)(r.Y36(r.SBq),r.Y36(r.Qsj),r.Y36(tt,9))};static#e=this.\u0275dir=r.lG2({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return e})();const en={provide:h,useExisting:(0,r.Gpc)(()=>et),multi:!0};function ee(e,n){return null==e?`${n}`:("string"==typeof n&&(n=`'${n}'`),n&&"object"==typeof n&&(n="Object"),`${e}: ${n}`.slice(0,50))}let et=(()=>{class e extends m{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let i;if(this.value=t,Array.isArray(t)){const o=t.map(s=>this._getOptionId(s));i=(s,a)=>{s._setSelected(o.indexOf(a.toString())>-1)}}else i=(o,s)=>{o._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(t){this.onChange=i=>{const o=[],s=i.selectedOptions;if(void 0!==s){const a=s;for(let d=0;d<a.length;d++){const it=this._getOptionValue(a[d].value);o.push(it)}}else{const a=i.options;for(let d=0;d<a.length;d++){const T=a[d];if(T.selected){const it=this._getOptionValue(T.value);o.push(it)}}}this.value=o,t(o)}}_registerOption(t){const i=(this._idCounter++).toString();return this._optionMap.set(i,t),i}_getOptionId(t){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,t))return i;return null}_getOptionValue(t){const i=function nn(e){return e.split(":")[0]}(t);return this._optionMap.has(i)?this._optionMap.get(i)._value:t}static#t=this.\u0275fac=function(){let t;return function(o){return(t||(t=r.n5z(e)))(o||e)}}();static#e=this.\u0275dir=r.lG2({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,o){1&i&&r.NdJ("change",function(a){return o.onChange(a.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[r._Bn([en]),r.qOj]})}return e})(),ne=(()=>{class e{constructor(t,i,o){this._element=t,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(ee(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(ee(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#t=this.\u0275fac=function(i){return new(i||e)(r.Y36(r.SBq),r.Y36(r.Qsj),r.Y36(et,9))};static#e=this.\u0275dir=r.lG2({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return e})(),hn=(()=>{class e{static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275mod=r.oAB({type:e});static#n=this.\u0275inj=r.cJS({imports:[$t]})}return e})(),pn=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:v,useValue:t.callSetDisabledState??S}]}}static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275mod=r.oAB({type:e});static#n=this.\u0275inj=r.cJS({imports:[hn]})}return e})();var gn=c(74);function mn(e,n){if(1&e){const t=r.EpF();r.TgZ(0,"div",14)(1,"div",15)(2,"div",16)(3,"div",17)(4,"input",18),r.NdJ("change",function(){const s=r.CHM(t).$implicit,a=r.oxw();return r.KtG(a.checkCity(s))}),r.qZA()(),r.TgZ(5,"h5",19),r._uU(6),r.qZA()(),r.TgZ(7,"div",20),r.NdJ("click",function(){const s=r.CHM(t).$implicit,a=r.oxw();return r.KtG(a.goToCityDetail(s.wikiDataId))}),r.TgZ(8,"p",21),r._uU(9),r.ALo(10,"translate"),r.qZA(),r.TgZ(11,"p",21),r._uU(12),r.ALo(13,"translate"),r.qZA(),r.TgZ(14,"p",21),r._uU(15),r.ALo(16,"translate"),r.ALo(17,"number"),r.qZA()(),r.TgZ(18,"div",22)(19,"button",23),r.NdJ("click",function(){const s=r.CHM(t).$implicit,a=r.oxw();return r.KtG(a.goToCityDetail(s.wikiDataId))}),r._uU(20),r.ALo(21,"translate"),r.qZA()()()()}if(2&e){const t=n.$implicit,i=r.oxw();r.xp6(4),r.Q6J("disabled",i.getActive(t)),r.xp6(2),r.Oqu(t.name),r.xp6(3),r.AsE("",r.lcZ(10,9,"COUNTRY"),": ",t.country,""),r.xp6(3),r.AsE("",r.lcZ(13,11,"REGION"),": ",t.region,""),r.xp6(3),r.AsE("",r.lcZ(16,13,"POPULATION")," ",r.lcZ(17,15,t.population),""),r.xp6(5),r.Oqu(r.lcZ(21,17,"VIEW_DETAIL"))}}const _n=[{path:"",component:(()=>{class e extends fe{constructor(t,i){super(),this.translate=t,this._presenter=i,this._presenter.setView(this)}ngOnInit(){this.getCities()}get notFill(){return this.selectedCities.length<2}getActive(t){return this._presenter.getActive(t)}checkCity(t){this._presenter.checkCity(t)}getCities(t="10"){this._presenter.getCities(ot.US,t)}goToCityDetail(t){this._presenter.goToCityDetail(t)}goToCompareCities(){this._presenter.goToCompareCities()}static#t=this.\u0275fac=function(i){return new(i||e)(r.Y36(P.sK),r.Y36("listCitiesPresenterProvider"))};static#e=this.\u0275cmp=r.Xpm({type:e,selectors:[["app-list-cities-view"]],features:[r.qOj],decls:21,vars:8,consts:[["title","List of Cities"],[1,"container","mt-2"],[1,"row","mb-3","justify-content-between"],[1,"col-md-6","col-12","mb-2","d-flex","flex-column","align-items-start"],["for","recordsPerPage"],["id","recordsPerPage",1,"form-control",3,"change"],["recordsSelect",""],["value","10"],["value","15"],["value","20"],[1,"col-md-2","col-12","mt-4"],["type","button",1,"btn","btn-primary","w-100",3,"disabled","click"],[1,"row"],["class","col-lg-4 col-md-6 col-sm-12 mb-3",4,"ngFor","ngForOf"],[1,"col-lg-4","col-md-6","col-sm-12","mb-3"],[1,"card"],[1,"card-header","bg-light","position-relative"],[1,"form-check","position-absolute","top-50","end-0","translate-middle-y"],["type","checkbox","value","","id","flexCheckIndeterminate",1,"form-check-input",3,"disabled","change"],[1,"card-title"],[1,"card-body",3,"click"],[1,"card-text"],[1,"card-footer"],[1,"btn","btn-outline-primary","w-100",3,"click"]],template:function(i,o){if(1&i){const s=r.EpF();r._UZ(0,"app-header",0),r.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"label",4),r._uU(5),r.ALo(6,"translate"),r.qZA(),r.TgZ(7,"select",5,6),r.NdJ("change",function(){r.CHM(s);const d=r.MAs(8);return r.KtG(o.getCities(d.value))}),r.TgZ(9,"option",7),r._uU(10,"10"),r.qZA(),r.TgZ(11,"option",8),r._uU(12,"15"),r.qZA(),r.TgZ(13,"option",9),r._uU(14,"20"),r.qZA()()(),r.TgZ(15,"div",10)(16,"button",11),r.NdJ("click",function(){return o.goToCompareCities()}),r._uU(17),r.ALo(18,"translate"),r.qZA()()(),r.TgZ(19,"div",12),r.YNc(20,mn,22,19,"div",13),r.qZA()()}2&i&&(r.xp6(5),r.hij("",r.lcZ(6,4,"NUMBER_CITIES"),":"),r.xp6(11),r.Q6J("disabled",o.notFill),r.xp6(1),r.Oqu(r.lcZ(18,6,"COMPARE_CITIES")),r.xp6(3),r.Q6J("ngForOf",o.listCities))},dependencies:[C.sg,te,ne,gn.G,C.JJ,P.X$]})}return e})()}];var he=c(4031);const yn={provide:"listCitiesInteractorProvider",useClass:(()=>{class e{constructor(t){this._geoDbCitiesUseCase=t}setPresenter(t){this._presenter=t}getCities(t,i){this._geoDbCitiesUseCase.getCities(t,i).subscribe({next:({data:o})=>{this._presenter.successCityResponse(o)}})}static#t=this.\u0275fac=function(i){return new(i||e)(r.LFG("geoDbCitiesUseCaseProvider"))};static#e=this.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac})}return e})()},vn={provide:"listCitiesPresenterProvider",useClass:(()=>{class e{constructor(t,i){this._interactor=t,this._router=i,this._interactor.setPresenter(this)}setView(t){this._view=t}getCities(t,i){this._interactor.getCities(t,i)}successCityResponse(t){this._view.listCities=t}goToCityDetail(t){this._router.navigate([`city-summary/${t}`])}goToCompareCities(){const t=this._view.selectedCities.map(i=>`${i.name} ${i.region} ${i.country} `);this._router.navigate([`compare-cities/${t.toString()}`])}getActive(t){return 2===this._view.selectedCities.length&&!this._view.selectedCities.some(o=>o.id===t.id)}checkCity(t){this._view.selectedCities.some(o=>o.id===t.id)?this._view.selectedCities=this._view.selectedCities.filter(o=>o.id!==t.id):this._view.selectedCities.push(t)}static#t=this.\u0275fac=function(i){return new(i||e)(r.LFG("listCitiesInteractorProvider"),r.LFG(he.F0))};static#e=this.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac})}return e})()};var Cn=c(6207),Vn=c(1858);let An=(()=>{class e{static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275mod=r.oAB({type:e});static#n=this.\u0275inj=r.cJS({providers:[yn,vn,Cn.m],imports:[C.ez,he.Bz.forChild(_n),pn,Vn.K,P.aw]})}return e})()}}]);